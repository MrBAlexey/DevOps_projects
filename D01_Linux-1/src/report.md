## Part 1. Установка ОС

##### Установи **Ubuntu 20.04 Server LTS** без графического интерфейса. (Используем программу для виртуализации - VirtualBox)

- Графический интерфейс должен отсутствовать.

- Узнай версию Ubuntu, выполнив команду \
`cat /etc/issue.`
- Вставь скриншот с выводом команды.

![](screenshots/Linux_task_1(Install).png)




## Part 2. Создание пользователя

##### Создай пользователя, отличного от созданного при установке. Пользователь должен быть добавлен в группу `adm`.

- Вставь скриншот вызова команды для создания пользователя.
- команда создание пользователя: sudo useradd -m (-m, --create-home Если домашнего каталога пользователя не существует, то он будет создан. По умолчанию, домашний каталог не создаётся и файлы не копируются.)
![](screenshots/2_task_Linux(User_add).png)

- добавление пользователя в группу adm командой: sudo usermod -aG adm admin21 
(-a, --append Добавить пользователя в дополнительную группу(ы). Использовать только вместе с параметром -G, --groups ГРУППА1[,ГРУППА2,...[,ГРУППАN] Список дополнительных групп, в которых числится пользователь. Перечисление групп осуществляется через запятую, без промежуточных пробелов. Если пользователь — член группы, которой в указанном списке нет, то пользователь удаляется из этой группы. Такое поведение можно изменить с помощью параметра -a, при указании которого к уже имеющемуся списку групп пользователя добавляется список указанных дополнительных групп.)

![](screenshots/2_task_Linux(add_to_group_adm).png)

- Новый пользователь должен быть в выводе команды \
`cat /etc/passwd`
- Вставь скриншот с выводом команды. 

![](screenshots/2_task_Linux(cat_command).png)




## Part 3. Настройка сети ОС


##### Задай название машины вида user-1.
- Изменение имени машины(хоста) с помощью команды hostnamectl set-hostname user-1 и проверка нового названия с помощью команды hostnamectl
![](screenshots/3.1_task_linux(change_hostname_name).png) 

##### Установи временную зону, соответствующую твоему текущему местоположению.  
- изменение времени машины(хоста) с помощью команды timedatectl set-timezone Europe/Moscow и проверка временной зоны с помощью команды timedatectl
![](screenshots/3.2_task_Linux(change_timezone).png)

##### Выведи названия сетевых интерфейсов с помощью консольной команды.
- Вывод названий всех сетевых устройств с помощью команд:
 1. ifconfig (Утилита ifconfig выводит не только список сетевых интерфейсов, но и информацию о них, такую как состояние, IP адрес, MAC адрес и другие параметры. Для отображения всех интерфейсов достаточно выполнить программу без параметров);
 2. ip link show (объединяет в себе функции нескольких программ, например ifconfig, route, brctl и других);
 3. ip -br link show (можно вывести информацию в более компактном виде, использовав опцию -br);
 4. nmcli device status (Посмотреть всю нужную информацию можно и с помощью консольной утилиты управлением брандмауэром. Здесь выводится подключение NetworkManager, связанное с конкретным устройством, а также его состояние);
 5. netstat -i (Программа netstat тоже умеет показывать сетевые интерфейсы и статистику по переданным данным если ей передать опцию -i);
 6. cat /proc/net/dev (В файле /proc/net/dev тоже содержится список всех сетевых интерфейсов, а также статистика их использования);
 7. ls /sys/class/net  (Все файлы устройств сетевых интерфейсов находятся в папке /sys/class/net. Поэтому мы можем посмотреть её содержимое).
![](screenshots/3.3_task_Linux(1_network_interfaces).png)
![](screenshots/3.3_task_Linux(2_network_interfaces).png)

- В отчёте дай объяснение наличию интерфейса lo. 
Один из самых основных виртуальных интерфейсов - lo. Это локальный сетевой интерфейс, который всегда указывает на текущий компьютер и позволяет программам обращаться к этому компьютеру

##### Используя консольную команду, получи ip адрес устройства, на котором ты работаешь, от DHCP сервера. 
- получаем ip адрес устройства используя консольную команду: hostname -I
![](screenshots/3.4_task_Linux(ip_adress_DHCP).png)

- В отчёте дай расшифровку DHCP
- DHCP (англ. Dynamic Host Configuration Protocol - протокол динамической настройки узла) — сетевой протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры, необходимые для работы в сети TCP/IP.
Протокол DHCP предоставляет три способа распределения IP-адресов:

- Ручное распределение. При этом способе сетевой администратор сопоставляет аппаратному адресу (для Ethernet-сетей это MAC-адрес) каждого клиентского компьютера определённый IP-адрес.

- Автоматическое распределение. При данном способе каждому компьютеру на постоянное использование выделяется произвольный свободный IP-адрес из определённого администратором диапазона.

- Динамическое распределение. Этот способ аналогичен автоматическому распределению за исключением того, что адрес выдаётся компьютеру не на постоянное пользование, а на определённый срок. Это называется арендой адреса. По истечении срока аренды IP-адрес вновь считается свободным, и клиент обязан запросить новый (он, впрочем, может оказаться тем же самым). Кроме того, клиент сам может отказаться от полученного адреса.

##### Определи и выведи на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
- выводим на экран внешний ip адресс шлюза командой: curl ifconfig.me
![](screenshots/3.5_task_Linux(1_external_ip).png)

- выводим на экран внутренний(default) ip адресс шлюза командой: 
ip r (или ip route)
![](screenshots/3.5_task_Linux(2_default_ip).png)



##### Задай статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (используй публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).  
- Задаём статичные ip, gw и dns настпойки с помощью редактирования файла конфигурации \
nano /etc/netplan/00-installer-config.yaml
![](screenshots/3.6_task_Linux(1_set_static_ip_gw_dns).png)
![](screenshots/3.6_task_Linux(2_command_set_static_ip_gw_dns).png)




##### Перезагрузи виртуальную машину. Убедись, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.  
- командой reboot now перезагружаем виртуальную машину

- Успешно пропингуй удаленные хосты 1.1.1.1 и ya.ru и вставь в отчёт скрин с выводом команды. В выводе команды должна быть фраза «0% packet loss».
- Командой ping -c 4 
![](screenshots/3.7_task_Linux(ping).png)


## Part 4. Обновление ОС

##### Обнови системные пакеты до последней на момент выполнения задания версии.  

- После обновления системных пакетов, если ввести команду обновления повторно, должно появиться сообщение, что обновления отсутствуют;
- Вставь скриншот с этим сообщением в отчёт.

- Обновляем пакеты Linux с помощью команды: sudo apt update
![](screenshots/4_1_task_linux(update_package).png)

- Устанавливаем обновление с помощью команды: sudo apt full-upgrade
![](screenshots/4_2_task_linux(upgrade_package).png)

## Part 5. Использование команды **sudo**

##### Разреши пользователю, созданному в [Part 2](#part-2-создание-пользователя),выполнять команду sudo.

- В отчёте объясни *истинное* назначение команды sudo (про то, что это слово - «волшебное», писать не стоит);  
- sudo (англ. Substitute User and do, дословно «подменить пользователя и выполнить») — программа для системного администрирования UNIX-систем, позволяющая делегировать те или иные привилегированные ресурсы пользователям с ведением протокола работы. Основная идея — дать пользователям как можно меньше прав, при этом достаточных для решения поставленных задач.

- Даём права sudo пользователю admin21 созданного в task 2, путём добавления пользователя в группу sudo командой: 
sudo usermod -aG sudo admin21
![](screenshots/5_1_task_Linux(add_admin21_to_group_sudo).png)

- проверяем наличие пользователя в группе sudo командой: id admin21
![](screenshots/5_2_task_Linux_(check_group).png)


Поменяй hostname ОС от имени пользователя, созданного в пункте [Part 2](#part-2-создание-пользователя) (используя sudo);
- Вставь скрин с изменённым hostname в отчёт.
- переключаемся на пользователя admin21 командой: su admin21
- проверяем текущее название хоста c помощью команды: hostnamectl
- меняем название хоста с помощью команды: sudo hostnamectl set-hostname second
- проверяем изменения командой: hostnamectl
![](screenshots/5_3_task_Linux_(change_hostname_with_sudo).png)

## Part 6. Установка и настройка службы времени

##### Настрой службу автоматической синхронизации времени.  

- Выведи время часового пояса, в котором ты сейчас находишься.
- Вывод следующей команды должен содержать `NTPSynchronized=yes`: \
  `timedatectl show`
  - командой timedatectl проверяем текущую временную зону
  - устанавливаем пакет синхронизирующий время с временной зоной командой: 
  sudo apt install systemd-timesyncd
  - меняем настройки протокола NTP командой sudo timedatectl set-ntp true
  - командой timedatectl show проверяем изменения
- Вставь скрины с корректным временем и выводом команды в отчёт.
![](screenshots/6_1_task_Linux(set_NTP_settings).png)


## Part 7. Установка и использование текстовых редакторов 

##### Установи текстовые редакторы **VIM** (+ любые два по желанию **NANO**, **MCEDIT**, **JOE** и т.д.)  

- устанавливаем редактоы vim, nano, joe командами:
sudo apt install vim 
sudo apt install nano
sudo apt install joe

##### Используя каждый из трех выбранных редакторов, создай файл *test_X.txt*, где X -- название редактора, в котором создан файл. Напиши в нём свой никнейм, закрой файл с сохранением изменений.  
В отчёт вставь скриншоты:
  - Из каждого редактора с содержимым файла перед закрытием;
  - В отчёте укажи, что сделал для выхода с сохранением изменений.

- создаём файл в редакторе vim командой vim test_VIM.txt
- нажимаем 'i' для включения режима редактирования
- печатаем никнейм jhadxaro
- нажимаем клавишу Esc затем комбинацию клавиш :wq для сохранения изменений и выхода из редактора
![](screenshots/7_1_task_Linux(vim_editor).png)

- создаём файл в редакторе nano командой nano test_NANO.txt
- печатаем никнейм jhadxaro
- нажимаем комбинцию клавиш control+x затем клавишу 'y' для сохранения изменений и выхода из редактора
![](screenshots/7_2_task_Linux(nano_editor).png)

- создаём файл в редакторе joe командой joe test_JOE.txt
- печатаем никнейм jhadxaro
- нажимаем комбинцию клавиш control+z+k для сохранения изменений и выхода из редактора
![](screenshots/7_3_task_Linux(joe_editor).png)




##### Используя каждый из трех выбранных редакторов, открой файл на редактирование, отредактируй файл, заменив никнейм на строку «21 School 21», закрой файл без сохранения изменений.
- В отчёт вставь скриншоты:
    - Из каждого редактора с содержимым файла после редактирования;
- В отчёте укажи, что сделал для выхода без сохранения изменений.

- редактируем файл в редакторе vim командой vim test_VIM.txt
1. нажимаем 'i' для включения режима редактирования
2. печатаем текст 21 School 21
3. нажимаем клавишу Esc затем комбинацию клавиш :q! для несохранения изменений и выхода из редактора
![](screenshots/7_4_task_Linux(change_vim_editor).png)

- редактируем файл в редакторе nano командой nano test_NANO.txt
1. печатаем текст 21 School 21
2. нажимаем комбинцию клавиш control+x затем клавишу 'n' для несохранения изменений и выхода из редактора
![](screenshots/7_5_task_Linux(change_nano_editor).png)

- редактируем файл в редакторе joe командой: joe test_JOE.txt
1. печатаем текст 21 School 21
2. нажимаем комбинцию клавиш control+с затем клавишу 'y' для несохранения изменений и выхода из редактора
![](screenshots/7_6_task_Linux(change_joe_editor).png)


##### Используя каждый из трех выбранных редакторов, отредактируй файл ещё раз (по аналогии с предыдущим пунктом), а затем освой функции поиска по содержимому файла (слово) и замены слова на любое другое.
В отчёт вставь скриншоты:
    - Из каждого редактора с результатами поиска слова;
    - Из каждого редактора с командами, введёнными для замены слова на другое.

- редактируем файл в редакторе VIM командой vim test_VIM.txt
1. нажимаем 'i' для включения режима редактирования
2. печатаем текст: search and change some words in VIM editor
3. нажимаем клавишу Esc затем клавишу '/' для включения функции поиска и вводим искомое слово: some 
  - также можно искать и менять 1 слово для этого выходим из режима редактирования текста клавишей Esc и вводим :s/искомое слово/новое слово/
  - а ещё можно менять все найденные слова командой ':%s/\<some_text\>/new text/g'
5. нажимаем клавишу Esc затем комбинациюкомбинацию клавиш :wq для сохранения изменений и выхода из редактора
![](screenshots/7_7_1_task_Linux(search_vim_editor).png)
![](screenshots/7_7_2_task_Linux(search_and_change_1_word_in_vim).png)
![](screenshots/7_7_3_task_Linux(search_and_change_all_words_in_vim).png)


- редактируем файл в редакторе NANO командой nano test_nano.txt
1. нажимаем комбинацию клавиш alt(option)+r для включения функции поиска и вводим искомое слово: jxadxaro
2. далее жмём enter и вводим слово(а) для замены
3. далее жмём enter и выбираем, что будем менять одно слово, несколько(для этого для каждого слово подтверждаем или отменяем замену клавишами 'y' или 'n') или все слова
4. нажимаем комбинцию клавиш control+x затем клавишу 'y' для сохранения изменений и выхода из редактора
  - если необходимо просто произвести поиск необходимо нажать комбинацию control + w и ввести искомое. В этом меню вы можете выбрать более ранние результаты поиска с помощью клавиш со стрелками вверх/ вниз.
![](screenshots/7_7_4_task_Linux(search_and_change_word_s_in_nano).png)
![](screenshots/7_7_5_task_Linux(wich_words_may_be_changed).png)


- редактируем файл в редакторе joe командой joe test_JOE.txt
1. нажимаем комбинцию клавиш control+k+F затем вводим искомый текст, выбираем, что с ним нужно сделать (например r - заменить) после нажимем enter и вводим текст для замены
2. нажимаем enter и подтверждаем замену 'y'
3. нажимаем комбинцию клавиш control+z+k для сохранения изменений и выхода из редактора
![](screenshots/7_7_6_task_Linux(search_and_change_word_in_joe).png)
![](screenshots/7_7_7_task_Linux(change_word_in_joe).png)


## Part 8. Установка и базовая настройка сервиса **SSHD**

##### Установи службу SSHd.  
1. проверяем наличие службы sshd командой: sudo systemctl status sshd
2. устанавливаем службу sshd командой: sudo apt install openssh-server ssh или sudo apt-get install openssh-client
3. проверяем иpменения командой: sudo systemctl status sshd
![](screenshots/8_1_1_task_Linux(ssh_check_and_install_server).png)
![](screenshots/8_1_2_task_Linux(ssh_install_client).png)
![](screenshots/8_1_3_task_Linux(ssh_check).png)



##### Добавь автостарт службы при загрузке системы. 

- включаем автостарт службы командой: sudo systemctl enable sshd
![](screenshots/8_2_task_Linux(enable_autorun).png)

##### Перенастрой службу SSHd на порт 2022.  

- перенастраиваем порт с 22 на 2022, отредактировав файл sshd_config, командой: sudo nano /etc/ssh/sshd_config
![](screenshots/8_3_1_task_Linux(change_port_to_2022).png)
![](screenshots/8_3_2_task_Linux(changed_port).png)

##### Используя команду ps, покажи наличие процесса sshd. Для этого к команде нужно подобрать ключи.
- Используя команды: ps aux | grep sshd, показываем наличие процесса sshd.
чтобы посмотреть все активные на данный момент процессы в linux, используется сочетание опций aux:
![](screenshots/8_4_task_Linux(ps_sshd).png)


- В отчёте объясни значение команды и каждого ключа в ней.
Команда ps является очень гибким инструментом для определения работающих в системе программ и оценки используемых ими ресурсов. Она выводит статистику и информацию о состоянии процессов в системе, в том числе ИД процесса или нити, объем выполняемого ввода-вывода и используемый объем ресурсов процессора и памяти.
-A, -e, (a) - выбрать все процессы;
-a - выбрать все процессы, кроме фоновых;
-d, (g) - выбрать все процессы, даже фоновые, кроме процессов сессий;
-N - выбрать все процессы кроме указанных;
-С - выбирать процессы по имени команды;
-G - выбрать процессы по ID группы;
-p, (p) - выбрать процессы PID;
--ppid - выбрать процессы по PID родительского процесса;
-s - выбрать процессы по ID сессии;
-t, (t) - выбрать процессы по tty;
-u, (U) - выбрать процессы пользователя.

Опции форматирования:
-с - отображать информацию планировщика;
-f - вывести максимум доступных данных, например, количество потоков;
-F - аналогично -f, только выводит ещё больше данных;
-l - длинный формат вывода;
-j, (j) - вывести процессы в стиле Jobs, минимум информации;
-M, (Z) - добавить информацию о безопасности;
-o, (o) - позволяет определить свой формат вывода;
--sort, (k) - выполнять сортировку по указанной колонке;
-L, (H)- отображать потоки процессов в колонках LWP и NLWP;
-m, (m) - вывести потоки после процесса;
-V, (V) - вывести информацию о версии;
-H - отображать дерево процессов;

##### Перезагрузи систему.
- командой sudo reboot now перезагружаем систему
![](screenshots/8_5(reboot_now).png)

- Вывод команды netstat -tan должен содержать  \
`tcp 0 0 0.0.0.0:2022 0.0.0.0:* LISTEN`  \
(если команды netstat нет, то ее нужно установить)
![](screenshots/8_6(net_stat_output).png)

- В отчёте объясни значение ключей -tan, значение каждого столбца вывода, значение 0.0.0.0.
netstat (network statistics) — утилита командной строки, выводящая на дисплей состояние TCP-соединений (как входящих, так и исходящих), таблицы маршрутизации, число сетевых интерфейсов и сетевую статистику по протоколам. Доступна в операционных системах семейства UNIX и Windows. Основное назначение утилиты — поиск сетевых проблем и определение производительности сети.

  -t - Отображение текущего подключения в состоянии переноса нагрузки с процессора на сетевой адаптер при передаче данных ( "offload" ). \
  -a - Отображение всех подключений и ожидающих портов. \
  -n - Отображение адресов и номеров портов в числовом формате. Вывод активных подключений TCP с отображением адресов и номеров портов в числовом формате без попыток определения имен. 

  -b - Отображение исполняемого файла, участвующего в создании каждого подключения, или ожидающего порта. Иногда известные исполняемые файлы содержат множественные независимые компоненты. Тогда отображается последовательность компонентов, участвующих в создании подключения, либо ожидающий порт. В этом случае имя исполняемого файла находится снизу в скобках [], сверху - компонент, который им вызывается, и так до тех пор, пока не достигается TCP/IP. Заметьте, что такой подход может занять много времени и требует достаточных разрешений. \
  -e - Отображение статистики Ethernet. Может применяться вместе с параметром -s. \
  -f - Отображение полного имени домена (FQDN) для внешних адресов. \
  -o - Отображение кода (ID) процесса каждого подключения. \
  -p протокол - Отображение подключений для протокола, задаваемых этим параметром. Допустимые значения: TCP, UDP, TCPv6 или UDPv6. Используется вместе с параметром -s для отображения статистики по протоколам. Допустимые значения: IP, IPv6, ICMP, ICMPv6, TCP, TCPv6, UDP или UDPv6. \
  -r - Отображение содержимого таблицы маршрутов. \
  -s - Отображение статистики протокола. По умолчанию статистика отображается для протоколов IP, IPv6, ICMP, ICMPv6, TCP, TCPv6, UDP и UDPv6. Параметр -p позволяет указать подмножество выводимых данных. \
  -v - Подробный вывод информации, если это возможно.
  интервал - Повторный вывод статистических данных через указанный интервал в секундах. Для прекращения вывода данных нажмите клавиши CTRL+C. Если параметр не задан, сведения о текущей конфигурации выводятся один раз. 

- 0.0.0.0 в foreign address означает что никто не подключен
- 0.0.0.0 в local address означает listening on all interfaces.
Если в качестве адреса отображается 0.0.0.0 - это означает "любой адрес", т.е в соединении могут использоваться все IP-адреса существующие на данном компьютере.


## Part 9. Установка и использование утилит **top**, **htop**

##### Установи и запусти утилиты top и htop.  
![](screenshots/9_1_1_task_Linux(install_top).png)
![](screenshots/9_1_3_task_Linux(htop_install).png)
- По выводу команды top определи и напиши в отчёте:
  - uptime 47 min
  - количество авторизованных пользователей - 1 user
  - общую загрузку системы - 0
  - общее количество процессов - 1
  - загрузку cpu - 0
  - загрузку памяти - 4 и 5 строки
  - pid процесса занимающего больше всего памяти - systemd
  - pid процесса, занимающего больше всего процессорного времени - systemd
![](screenshots/9_1_2_task_Linux(top_output).png)



- В отчёт вставь скрин с выводом команды htop:
![](screenshots/9_1_4_task_Linux(htop_output).png)

  - отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME
  клавишей F6
  ![](screenshots/9_1_5_task_Linux(sort_PID).png)
  ![](screenshots/9_1_6_task_Linux(sort_percent_cpu).png)
  ![](screenshots/9_1_7_task_Linux(sort_percent_mem).png)
  ![](screenshots/9_1_8_task_Linux(sort_TIME).png)

  - отфильтрованному для процесса sshd
  клавишами Fn + F4
  ![](screenshots/9_1_9_task_Linux(filter_sshd).png)

  - с процессом syslog, найденным, используя поиск 
  клавишами Fn + F3
  ![](screenshots/9_1_10_task_Linux(search_syslog).png)

  - с добавленным выводом hostname, clock и uptime  
  клавишами Fn + F2 выбираем нужное в крайней правой колонке и нажимем enter выбираем место куда вставить и нажимаем enter после этого Fn + F10
![](screenshots/9_1_11_task_Linux(add_hstnm_clck_uptime).png)


## Part 10. Использование утилиты **fdisk**


##### Запусти команду fdisk -l.

- В отчёте напиши название жесткого диска, его размер и количество секторов, а также размер swap.
https://losst.pro/komanda-fdisk-v-linux
- VBOX HARDDISK
- жёсткий диск 25 Gb
- сектор жёсткого диска 52428800
![](screenshots/10_1_task_Linux(fdisk_output).png)

SWAP 
https://losst.pro/nastrojka-swap-v-ubuntu-16-04

- так как команда: swapon --show ничего не вывела, создаём файл подкачки командой: sudo fallocate -l 3G /swapfile (ставим раздел подкачки 3 гб)
![](screenshots/10_2_task_Linux(add_swapfile).png)

- далее проверяем зарезервирована ли память под swap командой: ls -lh /swapfile
![](screenshots/10_3_task_Linux(check_memory_for_swap).png)

- Когда файл готов, необходимо превратить его в файл swap. Сначала нужно заблокировать доступ к нему всем кроме суперпользователя. Для этого необходимо выполнить: sudo chmod 600 /swapfile и проверяем права командой ls -lh /swapfile
![](screenshots/10_4_task_Linux(lock_permission_and_check).png)

- создаём файловую систему swap командой: sudo mkswap /swapfile
- включаем файл подкачки чтобы начать его использовать: sudo swapon /swapfile
- убеждаемся, что swap включен, выполнив команду: swapon --show

![](screenshots/10_5_task_Linux(add_switch_on_and_check_swap).png)

- SWAP size - 3 gb

- P.S. Чтобы настройка swap в Ubuntu 20.04 сохранялась после перезагрузки нужно отредактировать файл /etc/fstab. Можно вручную добавить строку в файл, но также можно использовать следующую команду:

echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab

## Part 11. Использование утилиты **df** 

##### Запусти команду df.  
https://losst.pro/komanda-df-linux
- Запустим утилиту командой `df`
![](screenshots/11_1_task_Linux(df_output).png)

- В отчёте напиши для корневого раздела (/):
  - размер раздела - 11758760
  - размер занятого пространства - 5840728
  - размер свободного пространства - 5298924 
  - процент использования - 53%
- Определи и напиши в отчёт единицу измерения в выводе.  - в случае стандартного вызова команды без флага единица измерения будет 1К, выведен размер в килобайтах.

##### Запусти команду df -Th.
- выведем информацию в более читаемом виде командой: df -Th
T - показывает тип файловой системы
h - выводит размеры в читаемом виде, в мегабайтах или гигабайтах
![](screenshots/11_2_task_Linux(df_Th_output).png)

- В отчёте напиши для корневого раздела (/):
    - размер раздела - 12G
    - размер занятого пространства - 5,6G
    - размер свободного пространства - 5,1 G
    - процент использования - 53%
- Определи и напиши в отчёт тип файловой системы для раздела. -ext4

## Part 12. Использование утилиты **du**

##### Запусти команду du
https://losst.pro/komanda-du-v-linux
- запускаем  команду du
![](screenshots/12_1_task_Linux(du_output).png)

##### Выведи размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
- используя команду sudo du - sh /home /var/log /var выведем данные о размерах папок /home, /var, /var/log
-s, --summarize - выводить только общий размер;
-h, --human-readable - выводить размер в единицах измерения удобных для человека;
![](screenshots/12_2_task_Linux(du_output_human_readable).png)

##### Выведи размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
- командой `du -sh /var/log/* выводим размер всего содержимого в /var/log
![](screenshots/12_3_task_Linux(du_output_var_log).png)

## Part 13. Установка и использование утилиты **ncdu**
##### Установи утилиту ncdu
- устанавливаем утилиту ncdu командой: sudo apt install ncdu
![](screenshots/13_1_task_Linux(install_ncdu).png)

##### Выведи размер папок /home, /var, /var/log
- командой sudo ncdu /home выводим размер папки home
![](screenshots/13_2_task_Linux(ncdu_home_output).png)

- командой sudo ncdu /var выводим размер папки var
![](screenshots/13_3_task_Linux(ncdu_var_output).png)

- командой sudo ncdu /var/log выводим размер папки var/log
![](screenshots/13_4_task_Linux(ncdu_var_log_output).png)



## Part 14. Работа с системными журналами


##### Открой для просмотра:
##### 1. /var/log/dmesg
https://losst.pro/kak-polzovatsya-dmesg
dmesg — в этом логе хранится информация о загрузке ядра и драйверов оборудования. В момент загрузки системы записывается вся основная информация, имеющая к ней отношение

- Открыли файл dmesg для просмотра командой `nano /var/log/dmesg` также это можно сделать командой dmesg
![](screenshots/14_1_task_Linux(nano_dmesg).png)


##### 2. /var/log/syslog
- Открыли файл dmesg для просмотра командой `nano /var/log/syslog`
![](screenshots/14_2_task_Linux(nano_syslog).png)

syslog - глобальные системные журналы операционной системы linux. Сюда пишутся события загрузки, ядра системы, системы инициализации systemd и т.д

##### 3. /var/log/auth.log  
- Открыли файл auth.log для просмотра командой `nano /var/log/auth.log `
![](screenshots/14_3_task_Linux(nano_auth_log).png)

auth.log — лог авторизации и аутентификации в системе, в том числе ssh

- используя команду last -Fwx находим время последней авторизации
- время последней успешной авторизации: Apr 3 22:33:23 2024
- имя пользователя: admin1
- метод входа в систему: tty1
![](screenshots/14_4_task_Linux(output_last_Fwx).png)
- Перезапусти службу SSHd;
командой systemctl restart ssh перезапускаем sshd
![](screenshots/14_5_task_Linux(restart_ssh).png)

- командой nano /var/log/syslog
- Вставь в отчёт скрин с сообщением о рестарте службы (искать в логах).
![](screenshots/14_6_task_Linux(restart_ssh_syslog).png)

## Part 15. Использование планировщика заданий **CRON**

Cron (Command Run ON) — система для автоматического запуска программ и скриптов на сервере в определённое время
https://losst.pro/nastrojka-cron

- Вставь в отчёт скрины со строчками о выполнении и списком текущих задач.
##### Используя планировщик заданий, запусти команду uptime через каждые 2 минуты.
Вошли в журнал для записи заданий командой `crontab -e` и добавили задание `*/2 * * 1* * uptime`
Указав интервал, с которым нужно запускать скрипт. Для этого используется разделитель косая черта - "/"
![](screenshots/15_1_task_Linux(crontab_uptime_2_min).png)

- Найди в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении;
- командой nano /var/log/syslog смотрим логи о запуске uptime
![](screenshots/15_2_task_Linux(crontab_uptime_logs).png)

- Выведи на экран список текущих заданий для CRON;
- с помощью команды crontab -l выводим весь список текущих задач для CRON
![](screenshots/15_3_task_Linux(crontab_all_tasks).png)


##### Удали все задания из планировщика заданий.
- В отчёт вставь скрин со списком текущих заданий для CRON.
- с помощью команды crontab -r удалим текущие задачи для CRON
- с помощью команды crontab -l выводим весь список текущих задач для CRON

![](screenshots/15_4_task_Linux(crontab_delete_and_check_all_tasks).png)